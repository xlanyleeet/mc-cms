{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/xlanyleeet/Desktop/mc-cms/app/providers.tsx"],"sourcesContent":["'use client';\nimport { SessionProvider } from 'next-auth/react';\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  // Перевіряємо, чи знаходимось на клієнтській стороні\n  if (typeof window === 'undefined') {\n    return <>{children}</>;\n  }\n  \n  return (\n    <SessionProvider>\n      {children}\n    </SessionProvider>\n  );\n}"],"names":[],"mappings":";;;;AACA;AADA;;;AAGO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qDAAqD;IACrD,wCAAmC;QACjC,qBAAO;sBAAG;;IACZ;;AAOF","debugId":null}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///Users/xlanyleeet/Desktop/mc-cms/components/Header.tsx"],"sourcesContent":["'use client';\nimport Link from 'next/link';\nimport { useSession, signOut } from 'next-auth/react';\nimport { useEffect, useState, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Image from 'next/image';\n\nexport default function Header() {\n  const { data: session, status } = useSession();\n  const router = useRouter();\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    // Додамо детальніше логування для відстеження проблеми\n    console.log('Auth Status:', status);\n    console.log('Session Data:', session);\n    \n    // Редирект для адміна\n    if (status === 'authenticated' && session?.user?.role === 'admin') {\n      router.push('/admin');\n    }\n    \n    // Обробка клацань поза дропдауном\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(event.target as Node)\n      ) {\n        setDropdownOpen(false);\n      }\n    };\n    \n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [status, session, router]);\n\n  // Визначаємо URL аватара на основі username користувача\n  const avatarUrl = session?.user?.name\n    ? `https://mc-heads.net/avatar/${session.user.name}/40`\n    : '/default-avatar.png';\n\n  return (\n    <header className=\"w-full p-4 bg-zinc-950 shadow-md\">\n      <div className=\"max-w-6xl mx-auto flex justify-between items-center\">\n        <Link href=\"/\" className=\"text-xl font-bold text-white\">\n          MC Server\n        </Link>\n        <nav className=\"flex gap-4 items-center text-white\">\n          <Link href=\"/\" className=\"hover:underline\">\n            Головна\n          </Link>\n          <Link href=\"/subscriptions\" className=\"hover:underline\">\n            Підписки\n          </Link>\n          \n          {/* Стан авторизації */}\n          {status === 'loading' ? (\n            <span className=\"text-sm text-zinc-400\">Завантаження...</span>\n          ) : status === 'authenticated' && session?.user ? (\n            <div className=\"relative\" ref={dropdownRef}>\n              <button\n                onClick={() => setDropdownOpen(!dropdownOpen)}\n                className=\"focus:outline-none flex items-center\"\n                aria-label=\"Відкрити меню користувача\"\n              >\n                <Image\n                  src={avatarUrl}\n                  alt=\"Avatar\"\n                  width={40}\n                  height={40}\n                  className=\"rounded-full\"\n                />\n              </button>\n              {dropdownOpen && (\n                <div className=\"absolute right-0 mt-2 w-48 bg-zinc-800 rounded-md shadow-lg z-50 border border-zinc-700\">\n                  <div className=\"px-4 py-2 text-sm text-white border-b border-zinc-700\">\n                    Привіт, {session.user.name}\n                  </div>\n                  <Link\n                    href=\"/profile\"\n                    className=\"block px-4 py-2 text-sm text-white hover:bg-zinc-700\"\n                    onClick={() => setDropdownOpen(false)}\n                  >\n                    Профіль\n                  </Link>\n                  <button\n                    onClick={() => signOut()}\n                    className=\"w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-zinc-700\"\n                  >\n                    Вийти\n                  </button>\n                </div>\n              )}\n            </div>\n          ) : (\n            <Link\n              href=\"/auth/signin?callbackUrl=/user\"\n              className=\"bg-indigo-600 hover:bg-indigo-500 px-4 py-2 rounded text-sm font-medium\"\n            >\n              Увійти\n            </Link>\n          )}\n        </nav>\n      </div>\n    </header>\n  );\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;AAOe,SAAS;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,aAAU,AAAD;IAC3C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,cAAc,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IAE3C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,uDAAuD;QACvD,QAAQ,GAAG,CAAC,gBAAgB;QAC5B,QAAQ,GAAG,CAAC,iBAAiB;QAE7B,sBAAsB;QACtB,IAAI,WAAW,mBAAmB,SAAS,MAAM,SAAS,SAAS;YACjE,OAAO,IAAI,CAAC;QACd;QAEA,kCAAkC;QAClC,MAAM,qBAAqB,CAAC;YAC1B,IACE,YAAY,OAAO,IACnB,CAAC,YAAY,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAC1C;gBACA,gBAAgB;YAClB;QACF;QAEA,SAAS,gBAAgB,CAAC,aAAa;QACvC,OAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;IACzD,GAAG;QAAC;QAAQ;QAAS;KAAO;IAE5B,wDAAwD;IACxD,MAAM,YAAY,SAAS,MAAM,OAC7B,CAAC,4BAA4B,EAAE,QAAQ,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GACrD;IAEJ,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,4JAAA,CAAA,UAAI;oBAAC,MAAK;oBAAI,WAAU;8BAA+B;;;;;;8BAGxD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAkB;;;;;;sCAG3C,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAAiB,WAAU;sCAAkB;;;;;;wBAKvD,WAAW,0BACV,8OAAC;4BAAK,WAAU;sCAAwB;;;;;mCACtC,WAAW,mBAAmB,SAAS,qBACzC,8OAAC;4BAAI,WAAU;4BAAW,KAAK;;8CAC7B,8OAAC;oCACC,SAAS,IAAM,gBAAgB,CAAC;oCAChC,WAAU;oCACV,cAAW;8CAEX,cAAA,8OAAC,6HAAA,CAAA,UAAK;wCACJ,KAAK;wCACL,KAAI;wCACJ,OAAO;wCACP,QAAQ;wCACR,WAAU;;;;;;;;;;;gCAGb,8BACC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;gDAAwD;gDAC5D,QAAQ,IAAI,CAAC,IAAI;;;;;;;sDAE5B,8OAAC,4JAAA,CAAA,UAAI;4CACH,MAAK;4CACL,WAAU;4CACV,SAAS,IAAM,gBAAgB;sDAChC;;;;;;sDAGD,8OAAC;4CACC,SAAS,IAAM,CAAA,GAAA,8IAAA,CAAA,UAAO,AAAD;4CACrB,WAAU;sDACX;;;;;;;;;;;;;;;;;iDAOP,8OAAC,4JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAQb","debugId":null}}]
}